#:kivy 1.0

<Node>:
    #nodetextlabel:nodetextlabel
    size_hint:None,None
    canvas.before:
        Color:
            rgb: root.bgcolor
        Rectangle:
            pos: self.pos
            size: self.size
        Line:
            rectangle:self.pos+[self.width +2, self.height +2]#(100,100,30,10)
            #points: ()
            #points: zip(self.data.x, self.data.y)
        #Line:
           # points: self.fathers_end_pos+ [self.x,self.y]
        Line:
            bezier:[self.fathers_end_pos[0]+self.fathers_width, self.fathers_end_pos[1]] + [self.fathers_end_pos[0] +self.fathers_width + 30, self.fathers_end_pos[1]] + [self.x-30,self.y] + self.pos
    Button:
        pos:root.right,root.y
        size:root.height,root.height
        on_press:root.fold_unfold()
    Button:
        pos:root.right+root.height+1,root.y
        size:15,root.height
        on_press:root.edit()
    Button:
        pos:root.right+2*(root.height+1),root.y
        size:root.height,root.height
        on_press:root.add_child()
<MapView>:

<MindmapApp>:
    mv:mv
    BoxLayout:
        orientation:'vertical'
        ScrollView:
            MapView:
                id:mv
                size_hint_y:0.9
        Button:
            text:"test"
            size_hint_y:0.1
